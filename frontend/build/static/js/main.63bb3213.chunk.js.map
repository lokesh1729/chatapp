{"version":3,"sources":["actions/error.actions.js","components/Login/login.js","actions/login.actions.js","actions/types.js","actions/constants.js","components/common/Alerts.js","reducers/login.reducer.js","reducers/error.reducer.js","reducers/message.reducer.js","reducers/index.js","store/index.js","components/common/Spinner.js","components/Home/home.js","components/RoomEnter/RoomEnter.js","constants.js","components/Room/Room.js","actions/message.actions.js","components/common/AuthLayer.js","utils.js","App.js","serviceWorker.js","index.js"],"names":["createErrors","msg_type","msg","status","type","payload","createMessages","Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","submitLogin","e","preventDefault","login","state","username","password","onChange","setState","defineProperty","target","name","value","isAuthenticated","next","queryString","parse","location","search","react_default","a","createElement","react","react_router","to","bloomer_min","className","isLoading","onSubmit","placeholder","required","isColor","Component","connect","dispatch","body","JSON","stringify","axios","post","headers","Content-Type","then","response","data","loginSuccess","statusText","catch","err","console","log","message","Alerts","prevProps","_prevState","_this$props","errors","alert","messages","error","concat","join","email","non_field_errors","emptyMessage","success","withAlert","Cookies","require","initialState","get","loginReducer","arguments","length","undefined","action","token","set","path","expires","Date","expiry","objectSpread","errorReducer","messageReducer","combineReducers","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","apply","Spinner","src","alt","Home","RoomEnter","enterRoom","event","history","push","roomName","roomNameChange","val","_","keyDownHandler","keyCode","Section","Container","Label","Input","onKeyDown","Button","onClick","BASE_NAME","Room","sendMessage","socket","send","room_name","match","params","chatLog","cookies","protocolPrefix","window","protocol","host","WebSocket","self","onopen","onmessage","prevState","toConsumableArray","onerror","onclose","Authorization","res","result","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","key","created","return","statusMessage","_this2","chatlog","map","Field","TextArea","isSize","Control","message_type","WrappedComponent","innerClass","_React$Component","inherits","createClass","url","encodeURIComponent","pathname","split","React","withCookies","authRequired","options","position","positions","BOTTOM_CENTER","timeout","offset","transition","transitions","SCALE","WrappedLogin","common_Spinner","common_Alerts","Login_login","WrappedRoom","components_Room_Room","App","es","es6","react_alert","assign","template","AlertTemplate","react_router_dom","basename","exact","component","Boolean","hostname","Raven","config","process","REACT_APP_SENTRY_URL","install","rootElement","document","getElementById","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.63bb3213.chunk.js","sourcesContent":["export const createErrors = (msg_type, msg, status) => {\n    return { type: msg_type, payload: { msg, status } };\n};\n\nexport const createMessages = (msg_type, msg) => {\n    return { type: msg_type, payload: msg };\n};\n","import queryString from 'query-string'\nimport React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { login } from \"../../actions/login.actions\";\nimport { Redirect } from \"react-router-dom\";\nimport {\n    Container,\n    Section,\n    Field,\n    Label,\n    Control,\n    Input,\n    Button,\n} from \"bloomer\";\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: \"\",\n            password: \"\",\n        };\n    }\n\n    // componentDidMount() {\n    //     console.log(`Login component CDM : ${JSON.stringify(this.props)}`);\n    // }\n\n    // componentDidUpdate(prevProps, prevState, snapshot) {\n    //     console.log(`Login Component prevProps : ${JSON.stringify(prevProps)}`);\n    //     console.log(`Login Component prevState : ${JSON.stringify(prevState)}`);\n    //     console.log(`Login Component props : ${JSON.stringify(this.props)}`);\n    //     console.log(`Login Component state : ${JSON.stringify(this.state)}`);\n    // }\n\n    // componentWillUnmount() {\n    //     console.log(`Login component CWU : ${JSON.stringify(this.props)}`);\n    // }\n\n    submitLogin = (e) => {\n        e.preventDefault();\n        this.props.login(this.state.username, this.state.password);\n    };\n\n    onChange = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    render() {\n        const isAuthenticated = this.props.state.isAuthenticated;\n        const queryParams = queryString.parse(this.props.location.search);\n        const next = queryParams.next;\n        return (\n            <Fragment>\n                {isAuthenticated ? (\n                    <Redirect to={next} />\n                ) : (\n                    <Section\n                        className={\n                            this.props.state.isLoading ? \"opacity-25\" : \"\"\n                        }\n                    >\n                        <Container>\n                            <form onSubmit={this.submitLogin}>\n                                <Field>\n                                    <Label>Username</Label>\n                                    <Control>\n                                        <Input\n                                            type=\"text\"\n                                            onChange={this.onChange}\n                                            name=\"username\"\n                                            placeholder=\"Enter username\"\n                                            required={true}\n                                        />\n                                    </Control>\n                                </Field>\n                                <Field>\n                                    <Label>Password</Label>\n                                    <Control>\n                                        <Input\n                                            type=\"password\"\n                                            onChange={this.onChange}\n                                            name=\"password\"\n                                            placeholder=\"Enter password\"\n                                            required={true}\n                                        />\n                                    </Control>\n                                </Field>\n                                <Field>\n                                    <Control>\n                                        <Button isColor=\"info\" type=\"submit\">\n                                            Submit\n                                        </Button>\n                                    </Control>\n                                </Field>\n                            </form>\n                        </Container>\n                    </Section>\n                )}\n            </Fragment>\n        );\n    }\n}\n\nLogin.propTypes = {\n    login: PropTypes.func.isRequired,\n    state: PropTypes.object.isRequired,\n};\nconst mapStateToProps = (state) => ({\n    state: state.login,\n});\nexport default connect(\n    mapStateToProps,\n    { login },\n)(Login);\n","import axios from \"axios\";\nimport * as types from \"./types\";\nimport * as constants from \"./constants\";\nimport { createErrors, createMessages } from \"./error.actions\";\n\nexport const login = (username, password) => (dispatch) => {\n    const config = {\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n    };\n    const body = JSON.stringify({ username, password });\n    dispatch({\n        type: types.HTTP_CALL_INITIATED,\n    });\n    axios\n        .post(\"/api/auth/login/\", body, config)\n        .then((response) => {\n            // console.log(response);\n            if (response.status === 200) {\n                dispatch({\n                    type: types.LOGIN,\n                    payload: response.data,\n                });\n                dispatch(\n                    createMessages(types.MESSAGE, {\n                        loginSuccess: \"logged in successfully\",\n                    }),\n                );\n            } else {\n                dispatch(\n                    createErrors(types.ERROR, response.statusText, response.status),\n                );\n            }\n            dispatch({\n                type: types.HTTP_CALL_COMPLETED,\n            });\n        })\n        .catch((err) => {\n            dispatch({\n                type: types.HTTP_CALL_COMPLETED,\n            });\n            if(err.response) {\n                dispatch(\n                  createErrors(\n                    types.ERROR,\n                    err.response.data,\n                    err.response.status,\n                  ),\n                );\n            }\n            console.log(err);\n            dispatch(createErrors(types.ERROR, err.message, 500));\n        })\n        .catch((err) =>\n            dispatch(\n                createErrors(\n                    types.ERROR,\n                    constants.GENERIC_ERROR_MESSAGE,\n                    err.response.status,\n                ),\n            ),\n        );\n};\n","export const LOGIN = \"LOGIN\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const ERROR = \"ERROR\";\nexport const MESSAGE = \"MESSAGE\";\nexport const HTTP_CALL_INITIATED = \"HTTP_CALL_INITIATED\";\nexport const HTTP_CALL_COMPLETED = \"HTTP_CALL_COMPLETED\";\n","export const GENERIC_ERROR_MESSAGE = \"Something went wrong!!!\";\n","import React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withAlert } from \"react-alert\";\nimport { connect } from \"react-redux\";\n\nclass Alerts extends Component {\n    componentDidUpdate(prevProps, _prevState) {\n        const { errors, alert, messages } = this.props;\n        if (errors !== prevProps.errors) {\n            if (errors.msg.name) alert.error(`Name: ${errors.msg.name.join()}`);\n            if (errors.msg.email)\n                alert.error(\n                    `${errors.status} : Email: ${errors.msg.email.join()}`,\n                );\n            if (errors.msg.non_field_errors)\n                alert.error(\n                    `${errors.status} : ${errors.msg.non_field_errors.join()}`,\n                );\n            if (errors.msg.username) alert.error(errors.msg.username.join());\n            if(errors.msg.emptyMessage) alert.error(errors.msg.emptyMessage);\n            if(errors.msg.error) alert.error(errors.msg.error);\n        }\n        if (messages !== prevProps.messages) {\n            if (messages.loginSuccess) {\n                alert.success(messages.loginSuccess);\n            }\n            if(messages.success) {\n                alert.success(messages.success);\n            }\n        }\n    }\n\n    render() {\n        return <Fragment />;\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    errors: state.errors,\n    messages: state.messages,\n});\n\nAlerts.propTypes = {\n    errors: PropTypes.object.isRequired,\n};\n\nexport default connect(mapStateToProps)(withAlert()(Alerts));\n","import * as types from \"../actions/types\";\nconst Cookies = require(\"js-cookie\");\n\nconst initialState = {\n    isAuthenticated: !!Cookies.get(\"authToken\"),\n    isLoading: false,\n};\n\nconst loginReducer = function(state = initialState, action) {\n    switch (action.type) {\n        case types.LOGIN:\n            let token = action.payload.token;\n            Cookies.set(\"authToken\", token, {path: \"/\", expires: new Date(action.payload.expiry)});\n            return {\n                ...state,\n                isAuthenticated: true,\n            };\n        case types.HTTP_CALL_INITIATED:\n            return {\n                ...state,\n                isLoading: true,\n            };\n        case types.HTTP_CALL_COMPLETED:\n            return {\n                ...state,\n                isLoading: false,\n            };\n        default:\n            return state;\n    }\n};\nexport default loginReducer;\n","import * as types from \"../actions/types\";\n\nconst initialState = {\n    msg: {},\n    status: \"\",\n};\nconst errorReducer = (state = initialState, action) => {\n    if (action.type === types.ERROR) {\n        return { msg: action.payload.msg, status: action.payload.status };\n    }\n    return state;\n};\nexport default errorReducer;\n","import * as types from \"../actions/types\";\n\nconst initialState = {\n    msg: {},\n};\nconst messageReducer = (state = initialState, action) => {\n    if (action.type === types.MESSAGE) {\n        return (state = action.payload);\n    }\n    return state;\n};\nexport default messageReducer;\n","import { combineReducers } from \"redux\";\nimport login from \"./login.reducer\";\nimport errors from \"./error.reducer\";\nimport messages from \"./message.reducer\";\n\nexport default combineReducers({ login, errors, messages });\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"../reducers\";\n\nconst middleware = [thunk];\n\nconst initialState = {};\nconst store = createStore(\n    rootReducer,\n    initialState,\n    composeWithDevTools(applyMiddleware(...middleware)),\n);\n\nexport default store;\n","import React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nclass Spinner extends Component {\n    render() {\n        return (\n            <Fragment>\n                {this.props.isLoading && (\n                    <div className=\"spinner\">\n                        <img src=\"assets/spinner.gif\" alt=\"loading\" />\n                    </div>\n                )}\n            </Fragment>\n        );\n    }\n}\n\nSpinner.propTypes = {\n    isLoading: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    isLoading: state.login.isLoading,\n});\n\nexport default connect(mapStateToProps)(Spinner);\n","import React, { Component } from \"react\";\n\nclass Home extends Component {\n    // componentDidMount() {\n    //     console.log(`Home component CDM : ${JSON.stringify(this.props)}`);\n    // }\n\n    // componentWillUnmount() {\n    //     console.log(`Home component CWU : ${JSON.stringify(this.props)}`);\n    // }\n    render() {\n        return <div>Home Page</div>;\n    }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Section } from \"bloomer/lib/layout/Section\";\nimport { Container } from \"bloomer/lib/layout/Container\";\nimport { Input } from \"bloomer/lib/elements/Form/Input\";\nimport { Label } from \"bloomer/lib/elements/Form/Label\";\nimport \"./RoomEnter.scss\";\nimport { Button } from \"bloomer/lib/elements/Button\";\n\nclass RoomEnter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      roomName: \"\",\n    };\n  }\n\n  enterRoom = event => {\n    event.preventDefault();\n    this.props.history.push(\"/room/\" + this.state.roomName);\n  };\n\n  roomNameChange = event => {\n    let val = event.target.value;\n    this.setState(_ => ({ roomName: val }));\n  };\n\n  keyDownHandler = event => {\n    if (event.keyCode === 13) {\n      this.enterRoom(event);\n    }\n  };\n\n  render() {\n    return (\n      <Section className=\"room_enter__section\">\n        <Container className=\"room__container\">\n          <Label className=\"room__label\">Enter a room name:</Label>\n          <Input\n            type={\"text\"}\n            className=\"room__input\"\n            onChange={this.roomNameChange}\n            onKeyDown={this.keyDownHandler}\n          />\n          <Button isColor={\"primary\"} className=\"large__btn\" onClick={this.enterRoom}>\n            Enter\n          </Button>\n        </Container>\n      </Section>\n    );\n  }\n}\nexport default RoomEnter;\n","export const BASE_NAME = \"/app\";\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport authRequired from \"../common/AuthLayer\";\nimport { Section } from \"bloomer/lib/layout/Section\";\nimport { Container } from \"bloomer/lib/layout/Container\";\nimport { Field } from \"bloomer/lib/elements/Form/Field/Field\";\nimport { Control } from \"bloomer/lib/elements/Form/Control\";\nimport { Button } from \"bloomer/lib/elements/Button\";\nimport \"./Room.scss\";\nimport { TextArea } from \"bloomer/lib/elements/Form/TextArea\";\nimport { connect } from \"react-redux\";\nimport {alert} from \"../../actions/message.actions\";\nimport PropTypes from \"prop-types\";\n\nclass Room extends Component {\n  constructor(props) {\n    super(props);\n    const roomName = this.props.match.params.roomName;\n    this.state = {\n      socket: null,\n      chatLog: [],\n      message: \"\",\n      roomName: roomName,\n    };\n  }\n  componentDidMount() {\n    const token = this.props.cookies.get(\"authToken\");\n    const protocolPrefix = window.location.protocol === \"https:\" ? \"wss:\" : \"ws:\";\n    let { host } = window.location;\n    let socket = new WebSocket(\n      `${protocolPrefix}//${host}/ws/chat/${this.state.roomName}/`\n    );\n    let self = this;\n    socket.onopen = e => {\n      console.log(\"opened connection...\");\n    };\n    socket.onmessage = function receiveMessage(e) {\n      // console.log(`message received : ${e.data}`);\n      let data = JSON.parse(e.data);\n      self.setState(prevState => ({\n        chatLog: [...prevState.chatLog, data],\n      }));\n    };\n    socket.onerror = err => {\n      console.log(`socket connection closed unexcpectedly`);\n      console.error(err);\n    };\n    socket.onclose = e => {\n      console.log(\"closing connection...\");\n    };\n    this.setState({ socket });\n    axios.get(`/api/message/room/${this.state.roomName}/`, {\n      headers: {\"Authorization\": `Token ${token}`}\n    }).then(res => {\n      const result = [];\n      for(let val of res.data) {\n        result.push({key: val[\"id\"], message: val[\"text\"], username: val[\"sender_name\"], created: val[\"created_on\"]})\n      }\n      self.setState((prevState) => ({\n        chatLog: [...prevState.chatLog, ...result]\n      }))\n    }).catch(err => {\n      // console.log(`response: ${JSON.stringify(err.response)}`);\n      if(err.response && err.response.status !== 404) {\n        console.log(err.response.statusText, err.response.statusMessage);\n      }\n    })\n  }\n\n  sendMessage = e => {\n    e.preventDefault();\n    if(!this.state.message) {\n      this.props.alert(\"ERROR\", {emptyMessage: \"please enter a message\"});\n      return;\n    }\n    this.state.socket.send(JSON.stringify({ message: this.state.message, room_name: this.state.roomName }));\n    this.setState(_ => ({ message: \"\" }));\n  };\n\n  keyDownHandler = event => {\n    if (event.keyCode === 13) {\n      this.sendMessage(event);\n    }\n  };\n\n  render() {\n    const chatlog = this.state.chatLog;\n    return (\n      <Section className=\"bg-purple-800 h-screen\">\n        <Container className=\"h-full\">\n          <div className=\"flex flex-col h-full\">\n            <div className=\"text-3xl text-center p-2 flex-auto room__name w-full border-solid border-2 border-white-500 flex-auto\">\n              Room Name : {this.props.match.params.roomName}\n            </div>\n            <div className=\"chat_log__flex flex-auto flex flex-row w-full border-solid border-2 border-t-0 border-white-500 flex-auto\">\n              <div className=\"chat_log w-10/12 p-2 border-solid border-r-2 border-white-500 flex-auto flex flex-col overflow-y-scroll\">\n                {chatlog.map(message => (\n                  <div key={message.key} className=\"p-1\">\n                    <span className=\"message__username has-text-primary\">{message.username} : </span>\n                    <span className=\"message__message break-words\">{message.message}</span>\n                  </div>\n                ))}\n              </div>\n              <div className=\"user_list w-2/12 flex-auto flex flex-col\">\n                <span className=\"has-text-primary text-center\">Online Users</span>\n                <ul>\n                  <li className=\"text-center has-text-primary\">user1</li>\n                  <li className=\"text-center has-text-primary\">user2</li>\n                  <li className=\"text-center has-text-primary\">user3</li>\n                  <li className=\"text-center has-text-primary\">user4</li>\n                </ul>\n              </div>\n            </div>\n            <Container className=\"mt-4\">\n              <Field>\n                <TextArea\n                  isSize={\"medium\"}\n                  placeholder=\"Enter message\"\n                  onChange={e => {\n                    let val = e.target.value;\n                    this.setState(_ => ({\n                      message: val,\n                    }));\n                  }}\n                  onKeyDown={this.keyDownHandler}\n                  className=\"resize-none shadow rounded border max-w-sm py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\"\n                  value={this.state.message}\n                />\n              </Field>\n              <Field>\n                <Control>\n                  <Button isColor=\"primary\" onClick={this.sendMessage}>\n                    <span className=\"has-text-info\"> Submit </span>\n                  </Button>\n                </Control>\n              </Field>\n            </Container>\n          </div>\n        </Container>\n      </Section>\n    );\n  }\n}\n\nRoom.propTypes = {\n  alert: PropTypes.func.isRequired\n};\n\nexport default connect(null, {alert})(authRequired(Room));\n","import * as types from \"./types\";\nimport { createErrors, createMessages } from \"./error.actions\";\n\n\nexport const alert = (message_type, message, status=\"\") => (dispatch) => {\n    if(message_type === types.ERROR){\n      dispatch(createErrors(types.ERROR, message, status))\n    }\n    dispatch(createMessages(types.MESSAGE, message));\n};\n","import React, { Fragment } from \"react\";\nimport { instanceOf } from 'prop-types';\nimport { connect } from \"react-redux\";\nimport { withCookies, Cookies } from 'react-cookie';\nimport { Redirect } from \"react-router-dom\";\nimport { trimBasename } from \"../../utils\";\n\nexport default function authRequired(WrappedComponent) {\n    const innerClass = class extends React.Component {\n        static propTypes = {\n            cookies: instanceOf(Cookies).isRequired\n        };\n        render() {\n            const isAuthenticated = this.props.state.isAuthenticated;\n            return (\n                <Fragment>\n                    {!isAuthenticated ? (\n                        <Redirect to={`/login?next=${encodeURIComponent(trimBasename(this.props.location.pathname + this.props.location.search))}`} />\n                    ) : (\n                        <WrappedComponent {...this.props} />\n                    )}\n                </Fragment>\n            );\n        }\n    };\n\n    const mapStateToProps = (state) => ({\n        state: state.login,\n    });\n    return connect(\n        mapStateToProps,\n        null,\n    )(withCookies(innerClass));\n}\n","import {BASE_NAME} from \"./constants\";\n\n/*\ngiven the url trim the basename from it and return\nthe remaining url\n */\nexport function trimBasename(url) {\n  return url.split(BASE_NAME).join(\"\");\n}\n","import React, { Component, Fragment } from \"react\";\nimport Login from \"./components/Login/login\";\nimport { transitions, positions, Provider as AlertProvider } from \"react-alert\";\nimport AlertTemplate from \"react-alert-template-basic\";\nimport \"./App.scss\";\nimport Alerts from \"./components/common/Alerts\";\nimport { Provider } from \"react-redux\";\nimport { CookiesProvider } from 'react-cookie';\nimport store from \"./store\";\nimport Spinner from \"./components/common/Spinner\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Home from \"./components/Home/home\";\nimport RoomEnter from \"./components/RoomEnter/RoomEnter\";\nimport Room from \"./components/Room/Room\";\nimport {BASE_NAME} from \"./constants\";\n\nconst options = {\n    // you can also just use 'bottom center'\n    position: positions.BOTTOM_CENTER,\n    timeout: 5000,\n    offset: \"30px\",\n    // you can also just use 'scale'\n    transition: transitions.SCALE,\n};\n\nconst WrappedLogin = (props) => {\n    return (\n        <Fragment>\n            <Spinner />\n            <Alerts />\n            <Login {...props} />\n        </Fragment>\n    );\n};\n\nconst WrappedRoom = (props) => {\n  return (\n    <Fragment>\n      <Alerts/>\n      <Room {...props} />\n    </Fragment>\n  )\n};\n\nclass App extends Component {\n    render() {\n        return (\n            <Provider store={store}>\n                <CookiesProvider>\n                  <AlertProvider template={AlertTemplate} {...options}>\n                      <BrowserRouter basename={BASE_NAME}>\n                          <Switch>\n                              <Route path={\"/\"} exact component={Home} />\n                              <Route path={\"/login\"} component={WrappedLogin} />\n                              <Route path={\"/room\"} exact component={RoomEnter} />\n                              <Route path={\"/room/:roomName\"} component={WrappedRoom} />\n                          </Switch>\n                      </BrowserRouter>\n                  </AlertProvider>\n                </CookiesProvider>\n            </Provider>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./styles/tailwind.css\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport Raven from \"raven-js\";\n\nif (process.env.NODE_ENV === \"production\") {\n    Raven.config(process.env.REACT_APP_SENTRY_URL).install();\n}\n\nconst rootElement = document.getElementById(\"root\");\n\nReactDOM.render(<App />, rootElement);\nif (module.hot && process.env.NODE_ENV === \"development\") {\n    module.hot.accept(\"./App\", () => {\n        const NextRoot = require(\"./App\").default;\n        ReactDOM.render(<NextRoot />, rootElement);\n    });\n}\n\nserviceWorker.unregister();\n"],"sourceRoot":""}